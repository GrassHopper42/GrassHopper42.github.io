{"componentChunkName":"component---src-templates-post-jsx","path":"/gatsby-analytics/","result":{"data":{"site":{"siteMetadata":{"title":"베짱이.dev"}},"markdownRemark":{"id":"7b233dfc-3987-52bb-b31b-ed8d0b5b11b6","excerpt":"블로그 방문 통계 분석 블로그를 이왕시작한거 방문수도 체크해보기로 했다.\n여기저기 기웃거리면서 따라해봤는데 github page 배포 딜레이때문인지 측정이 안돼서 당황했다.\n이것저것 만지다보니 되긴 했는데 정확히 어떤부분인지는 모르겠다.\n일단 현재 상태 기준으로 작성하기로 했다.(2022.06.09 기준) 1. Google Aanlytics 설정 먼저 G…","html":"<h2>블로그 방문 통계 분석</h2>\n<p>블로그를 이왕시작한거 방문수도 체크해보기로 했다.\n여기저기 기웃거리면서 따라해봤는데 github page 배포 딜레이때문인지 측정이 안돼서 당황했다.\n이것저것 만지다보니 되긴 했는데 정확히 어떤부분인지는 모르겠다.\n일단 현재 상태 기준으로 작성하기로 했다.(2022.06.09 기준)</p>\n<h2>1. <strong>Google Aanlytics</strong> 설정</h2>\n<p>먼저 <a href=\"http://analytics.google.com/\"><strong>Google Analytics</strong> 홈페이지</a>에 들어가 계정을 만들고 속성을 설정해준다.</p>\n<p><img src=\"/static/1-511540b0b57d4f27c8fc78eecd3e18c3.jpg\" alt=\"계정 생성\"></p>\n<p>계정 이름을 입력하고 계정 데이터 공유 설정을 해준다.\n처음부터 Google제품 및 서비스를 제외한 나머지 3항목이 체크되어있다.\n나는 계정 이름은 grasshopper42, 체크박스는 처음 그대로 진행했다.</p>\n<p><img src=\"/static/2-e3c9f6901d969c31c984d2bbe2a2fcf7.jpg\" alt=\"속성 설정\">\n계정을 만들고 다음을 누르면 이제 데이터 측정을 위한 속성설정을 해야한다.\n개발블로그 추적을 위한 속성이기 때문에 속성 이름은 dev blog로 했다.\n시간대와 통화는 기본으로 미국과 달러로 기본설정되어있기 때문에 각각 대한민국과 원으로 바꿔준다.</p>\n<p><img src=\"/static/3-cd33cff56a11b9700ab1cbced6a243ae.jpg\" alt=\"비즈니스 정보\">\n비즈니스 정보는 그렇게 중요할것같지 않아서 대충 설정했다.</p>\n<p><img src=\"/static/4-074955696b93499e55cebb6402a87577.jpg\" alt=\"플랫폼 선택\">\n이제 플랫폼을 선택해야하는데 블로그를 추적할 계획이니까 <strong>웹</strong>을 선택한다.</p>\n<p><img src=\"/static/5-570c7f9859edb994d7e45582dbb5e64a.jpg\" alt=\"데이터 스트림 설정\">\n데이터를 스트리밍할 블로그 정보를 입력해준다.\n나는 grasshopper42.github.io/ 와 Dev blog라고 입력했다.\n아래 향상된 측정 부분에 측정할 데이터를 선택할 수 있는데 기본 그대로 뒀다.</p>\n<p>여기까지 설정을 마쳤으면 웹 스트림 세부정보라는 창이 뜨면서 <strong>측정ID</strong>값을 얻을 수 있다.</p>\n<h2>2. gatsby-plugin-gtag</h2>\n<p>이제 블로그와 <strong>Google Analytics</strong>를 연결해주기 위해 <strong>Gatsby</strong>에 <strong>plugin</strong>을 설치해준다</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">npm</span> <span class=\"token function\">install</span> gatsby-plugin-gtag</code></pre></div>\n<p>플러그인 설치가 완료되었으면 프로젝트 루트 폴더의 <code class=\"language-text\">gatsby-config.js</code>를 열어서 <code class=\"language-text\">plugin</code>을 추가해준다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// ~/gatsby-config.js</span>\n\n<span class=\"token comment\">// ...</span>\nmodule<span class=\"token punctuation\">.</span>exports <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// ...other options</span>\n  <span class=\"token literal-property property\">plugins</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token punctuation\">{</span>\n      <span class=\"token literal-property property\">resolve</span><span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">gatsby-plugin-gtag</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n      <span class=\"token literal-property property\">options</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token comment\">// Google Analytics에서 얻은 측정ID를 입력</span>\n        <span class=\"token literal-property property\">trackingId</span><span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">측정ID</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n        <span class=\"token comment\">// gtag tracking script를 배포될 html의 head에 넣을지 선택</span>\n        <span class=\"token literal-property property\">head</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n        <span class=\"token comment\">// IP 익명화 선택</span>\n        <span class=\"token literal-property property\">anonymize</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token comment\">// ...other plugins</span>\n  <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>이제 블로그를 다시 배포하고 블로그에 방문한 다음 Google Analytics 대쉬보드를 보면 사용자 1이 증가하는 모습을 볼 수 있다.\n<code class=\"language-text\">head</code>를 <code class=\"language-text\">true</code>로 설정했다면 블로그에서 개발자도구를 열어 <code class=\"language-text\">&lt;head></code>에 다음과 같은 코드가 있는지 보면 제대로 입력이 됐는지 알 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span> <span class=\"token attr-name\">async</span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>https://www.googletagmanager.com/gtag/js?id=측정ID<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token script\"></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span><span class=\"token punctuation\">></span></span><span class=\"token script\"><span class=\"token language-javascript\">\n  <span class=\"token comment\">//... trackingId, options</span>\n</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<h2>참고자료</h2>\n<ul>\n<li><a href=\"https://www.gatsbyjs.com/plugins/gatsby-plugin-gtag/#gatsby-plugin-gtag\">https://www.gatsbyjs.com/plugins/gatsby-plugin-gtag/#gatsby-plugin-gtag</a></li>\n<li><a href=\"https://inasie.github.io/it%EC%9D%BC%EB%B0%98/1/\">https://inasie.github.io/it%EC%9D%BC%EB%B0%98/1/</a></li>\n<li><a href=\"https://janeljs.github.io/blog/google-analytics/\">https://janeljs.github.io/blog/google-analytics/</a></li>\n<li><a href=\"https://devfoxstar.github.io/web/gatsby-ga-tracking/\">https://devfoxstar.github.io/web/gatsby-ga-tracking/</a></li>\n<li><a href=\"https://blog-lino.dev/trouble-shooting/ga4-issues/\">https://blog-lino.dev/trouble-shooting/ga4-issues/</a></li>\n</ul>","frontmatter":{"title":"[Gatsby]블로그에 Google Analytics 연결","date":"June 09, 2022","update":"June 09, 2022","tags":["Gatsby","blog","google analytics"],"series":null},"fields":{"slug":"/gatsby-analytics/","readingTime":{"minutes":3.845}}},"seriesList":{"edges":[{"node":{"id":"980cc1a7-b1dc-5d4d-b106-ee0f69a71cb0","fields":{"slug":"/init/"},"frontmatter":{"title":"Hello World!"}}},{"node":{"id":"75edac57-67e2-5111-9841-ef1057231a41","fields":{"slug":"/nestjs-prisma-dbhandling/"},"frontmatter":{"title":"[NestJS]NestJS에서 Prisma 사용하기"}}},{"node":{"id":"7b233dfc-3987-52bb-b31b-ed8d0b5b11b6","fields":{"slug":"/gatsby-analytics/"},"frontmatter":{"title":"[Gatsby]블로그에 Google Analytics 연결"}}},{"node":{"id":"99cad6da-01f4-5ead-a963-e20cca5c971a","fields":{"slug":"/init/"},"frontmatter":{"title":"Tmux Setting"}}}]},"previous":{"fields":{"slug":"/nestjs-prisma-dbhandling/"},"frontmatter":{"title":"[NestJS]NestJS에서 Prisma 사용하기"}},"next":{"fields":{"slug":"/init/"},"frontmatter":{"title":"Tmux Setting"}}},"pageContext":{"id":"7b233dfc-3987-52bb-b31b-ed8d0b5b11b6","series":null,"previousPostId":"75edac57-67e2-5111-9841-ef1057231a41","nextPostId":"99cad6da-01f4-5ead-a963-e20cca5c971a"}},"staticQueryHashes":[]}